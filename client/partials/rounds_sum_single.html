<div ng-repeat="(gri, gr) in ::state.players">
  <h2 ng-if="::state | state:'hasPlayerGroups'"
      style="border-bottom:1px solid black;">
    Group{{::gri+1}}
  </h2>
  <table class="table"
         style="table-layout:fixed">
    <tr>
      <th>Player</th>
      <th>Lists Played</th>
      <th ng-repeat="(ri,r) in ::state.rounds">
        {{
        (state | state:'isBracketTournament':gri:$index) ?
        (state | state:'bracketRoundOf':gri:$index) :
        'Round'+(ri+1)
        }}
      </th>
    </tr>
    <tr ng-repeat="p in ::gr track by p.name">
      <td style="cursor:pointer;"
          ng-click="doEditPlayer(p)">
        {{::p.name}}
      </td>
      <td style="font-size:0.8em;"
          ng-class="{
          'info': (p | player:'allListsHaveBeenPlayed'),
          'warning': !(p | player:'allListsHaveBeenPlayed'),
          }"
          >
        {{::p.lists_played.length}}/{{::p.lists.length}} -
        <span ng-repeat="c in ::p.lists_played">
          {{::c}}
        </span>
      </td>
      <td ng-repeat="r in ::state.rounds"
          ng-click="doGameEdit(r, p.name)"
          ng-class="{
          'success': (r | round:'gameForPlayer':p.name | game:'winForPlayer':p.name),
          'danger': (r | round:'gameForPlayer':p.name | game:'winForPlayer':p.name) === false,
          }"
          style="cursor:pointer;">
        {{ ::r | round:'gameForPlayer':p.name | game:'tableForPlayer':p.name }} -
        {{ ::r | round:'gameForPlayer':p.name | game:'opponentForPlayer':p.name }}
      </td>
    </tr>
  </table>
</div>
